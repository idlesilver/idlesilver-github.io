{"title":"Zsh配置","uid":"e7f6301004af13a215f073c139d4a96b","slug":"zsh-configuration","date":"2021-06-17T12:27:14.000Z","updated":"2022-06-15T17:46:44.689Z","comments":true,"path":"api/articles/zsh-configuration.json","keywords":["Student","Blog","IT","tech","mechine learning"],"cover":"http://img.gavin-get-up.com/20210617214831.png","content":"<!-- 概要 -->\n<h1 id=\"引子\"><a class=\"markdownIt-Anchor\" href=\"#引子\"></a> 引子</h1>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>换了新电脑，终于忍不住还是想折腾一下terminal。把去个性化丢到一边了。为了美观用了zsh，部分shell的脚本不能用了。插件管理用了<strong>oh-my-zsh</strong>和<strong>zinit</strong>。OMZ方便管理，<strong>zinit</strong>提升速度。主题用了<strong>Powerlevel10k</strong>。还有一些常用的插件：<strong>zsh-z，zsh-autosuggestions，syntax-highlighting</strong></p></blockquote>\n<p><ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E5%BC%95%E5%AD%90\">引子</a></li>\n<li><a href=\"#0-%E6%80%BB%E8%A7%88\">0. 总览</a>\n<ul>\n<li><a href=\"#11-zsh\">1.1 zsh</a></li>\n<li><a href=\"#12-oh-my-zsh\">1.2 oh-my-zsh</a></li>\n</ul>\n</li>\n<li><a href=\"#part-2-%E5%AE%89%E8%A3%85zinit\">part 2. 安装zinit</a>\n<ul>\n<li><a href=\"#21-%E6%A0%B9%E6%8D%AEgithub%E7%9A%84%E6%95%99%E7%A8%8B\">2.1 根据github的教程</a></li>\n<li><a href=\"#22-%E7%AC%AC%E4%B8%80%E6%AC%A1zinit%E4%BD%BF%E7%94%A8%E7%9A%84%E9%85%8D%E7%BD%AE\">2.2 第一次zinit使用的配置</a></li>\n</ul>\n</li>\n<li><a href=\"#part-3-%E9%85%8D%E7%BD%AEzshrc\">part 3. 配置.zshrc</a>\n<ul>\n<li><a href=\"#31-%E4%B8%BB%E9%A2%98theme%E8%AE%BE%E7%BD%AE\">3.1 主题Theme设置</a></li>\n<li><a href=\"#32-%E6%8F%92%E4%BB%B6plugin%E8%AE%BE%E7%BD%AE\">3.2 插件plugin设置</a></li>\n</ul>\n</li>\n<li><a href=\"#part-4-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE\">part 4. 主题配置</a>\n<ul>\n<li><a href=\"#41-%E5%AD%97%E4%BD%93%E9%85%8D%E7%BD%AE\">4.1 字体配置</a></li>\n<li><a href=\"#42-%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE\">4.2 其他配置</a></li>\n</ul>\n</li>\n<li><a href=\"#part-5-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96\">part 5. 其他软件的环境初始化</a>\n<ul>\n<li><a href=\"#51-conda\">5.1 conda</a></li>\n</ul>\n</li>\n</ul>\n</p>\n<h1 id=\"0-总览\"><a class=\"markdownIt-Anchor\" href=\"#0-总览\"></a> 0. 总览</h1>\n<p>最终效果长这样</p>\n<p><img src=\"http://img.gavin-get-up.com/20210617205411.png\" alt=\"\" /></p>\n<h2 id=\"11-zsh\"><a class=\"markdownIt-Anchor\" href=\"#11-zsh\"></a> 1.1 zsh</h2>\n<p>直接安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># apt install</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">zsh</span>\n<span class=\"token comment\"># change the shell</span>\nchsh -s <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> <span class=\"token function\">zsh</span><span class=\"token variable\">)</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>第一次启动时会有一系列选项，我觉得要改的就只有history的存放位置。我选了放在默认的 <code>.histfile</code> 里</p>\n<h2 id=\"12-oh-my-zsh\"><a class=\"markdownIt-Anchor\" href=\"#12-oh-my-zsh\"></a> 1.2 oh-my-zsh</h2>\n<p>直接根据官网的流程<a href=\"https://ohmyz.sh/\">https://ohmyz.sh/</a></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># install oh-my-zsh</span>\n<span class=\"token function\">sh</span> -c <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>装完之后，先不要调整.zshrc的设置，插件用zinit装</p>\n<h1 id=\"part-2-安装zinit\"><a class=\"markdownIt-Anchor\" href=\"#part-2-安装zinit\"></a> part 2. 安装zinit</h1>\n<h2 id=\"21-根据github的教程\"><a class=\"markdownIt-Anchor\" href=\"#21-根据github的教程\"></a> 2.1 根据github的教程</h2>\n<p>官方项目：<a href=\"https://github.com/zdharma/zinit#automatic-installation-recommended\">https://github.com/zdharma/zinit#automatic-installation-recommended</a></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># install zinit</span>\n<span class=\"token function\">sh</span> -c <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> -fsSL https://raw.githubusercontent.com/zdharma/zinit/master/doc/install.sh<span class=\"token variable\">)</span></span>\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"22-第一次zinit使用的配置\"><a class=\"markdownIt-Anchor\" href=\"#22-第一次zinit使用的配置\"></a> 2.2 第一次zinit使用的配置</h2>\n<p>此时重启terminal会提示是否安装4个默认的常用插件，选择确认安装就行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">zinit-zsh---z-a-as-monitor\nzinit-zsh---z-a-bin-gem-node\nzinit-zsh---z-a-patch-dl\nzinit-zsh---z-a-rust<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"part-3-配置zshrc\"><a class=\"markdownIt-Anchor\" href=\"#part-3-配置zshrc\"></a> part 3. 配置.zshrc</h1>\n<h2 id=\"31-主题theme设置\"><a class=\"markdownIt-Anchor\" href=\"#31-主题theme设置\"></a> 3.1 主题Theme设置</h2>\n<p><code>powerlevel10k</code> 不是oh-my-zsh自带的，需要安装，这里通过zinit来装：</p>\n<ol>\n<li>\n<p>注释掉 <code># ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;</code></p>\n</li>\n<li>\n<p>在四个默认插件之后加上这一段：</p>\n <pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># Load a few important annexes, without Turbo</span>\n<span class=\"token comment\"># (this is currently required for annexes)</span>\nzinit light-mode <span class=\"token keyword\">for</span> <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-rust <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-as-monitor <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-patch-dl <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-bin-gem-node\n\n<span class=\"token comment\"># Load powerlevel10k theme</span>\nzinit ice depth<span class=\"token string\">\"1\"</span> <span class=\"token comment\"># git clone depth</span>\nzinit light romkatv/powerlevel10k<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h2 id=\"32-插件plugin设置\"><a class=\"markdownIt-Anchor\" href=\"#32-插件plugin设置\"></a> 3.2 插件plugin设置</h2>\n<p>在四个默认插件之后加上这一段：</p>\n<p>这里使用 <code>light</code>是为了加速zsh的启动</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># Load a few important annexes, without Turbo</span>\n<span class=\"token comment\"># (this is currently required for annexes)</span>\nzinit light-mode <span class=\"token keyword\">for</span> <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-rust <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-as-monitor <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-patch-dl <span class=\"token punctuation\">\\</span>\n    zinit-zsh/z-a-bin-gem-node\n\nzinit light zsh-users/zsh-autosuggestions\nzinit light zdharma/fast-syntax-highlighting\nzinit light agkozak/zsh-z<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"part-4-主题配置\"><a class=\"markdownIt-Anchor\" href=\"#part-4-主题配置\"></a> part 4. 主题配置</h1>\n<h2 id=\"41-字体配置\"><a class=\"markdownIt-Anchor\" href=\"#41-字体配置\"></a> 4.1 字体配置</h2>\n<p>为了支持powerlevel10k的花里胡哨的功能，这里选择 <code>MesloLGS NF</code> 字体。</p>\n<p><strong>注意，要先把terminal的字体换成</strong><code>MesloLGS NF</code> <strong>之后在进行powerlevel10k的配置，否则有些图形还是看不了。</strong></p>\n<ul>\n<li><a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fromkatv%2Fpowerlevel10k-media%2Fraw%2Fmaster%2FMesloLGS%2520NF%2520Regular.ttf\">MesloLGS NF Regular.ttf</a></li>\n<li><a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fromkatv%2Fpowerlevel10k-media%2Fraw%2Fmaster%2FMesloLGS%2520NF%2520Bold.ttf\">MesloLGS NF Bold.ttf</a></li>\n<li><a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fromkatv%2Fpowerlevel10k-media%2Fraw%2Fmaster%2FMesloLGS%2520NF%2520Italic.ttf\">MesloLGS NF Italic.ttf</a></li>\n<li><a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fromkatv%2Fpowerlevel10k-media%2Fraw%2Fmaster%2FMesloLGS%2520NF%2520Bold%2520Italic.ttf\">MesloLGS NF Bold Italic.ttf</a></li>\n</ul>\n<h2 id=\"42-其他配置\"><a class=\"markdownIt-Anchor\" href=\"#42-其他配置\"></a> 4.2 其他配置</h2>\n<p>通过 <code>p10k configure</code> 开始配置，对照这下图来一步一步选就行</p>\n<p><img src=\"http://img.gavin-get-up.com/20210617205728.png\" alt=\"\" /></p>\n<h1 id=\"part-5-其他软件的环境初始化\"><a class=\"markdownIt-Anchor\" href=\"#part-5-其他软件的环境初始化\"></a> part 5. 其他软件的环境初始化</h1>\n<h2 id=\"51-conda\"><a class=\"markdownIt-Anchor\" href=\"#51-conda\"></a> 5.1 conda</h2>\n<p>直接用init命令就行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">conda init <span class=\"token function\">zsh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","feature":true,"text":" 引子 换了新电脑，终于忍不住还是想折腾一下terminal。把去个性化丢到一边了。为了美观用了zsh，部分shell的脚本不能用了。插件管理用了oh-my-zsh和zinit。OMZ方便管理，zinit提升速度。主题用了Powerlevel10k。还有一些常用的插件：zsh-z...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"Tech","slug":"Tech","count":8,"path":"api/categories/Tech.json"},{"name":"Linux","slug":"Tech/Linux","count":1,"path":"api/categories/Tech/Linux.json"},{"name":"Terminal","slug":"Tech/Linux/Terminal","count":1,"path":"api/categories/Tech/Linux/Terminal.json"},{"name":"Zsh","slug":"Tech/Linux/Terminal/Zsh","count":1,"path":"api/categories/Tech/Linux/Terminal/Zsh.json"}],"tags":[{"name":"shell beautify","slug":"shell-beautify","count":1,"path":"api/tags/shell-beautify.json"},{"name":"zsh","slug":"zsh","count":1,"path":"api/tags/zsh.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%BC%95%E5%AD%90\"><span class=\"toc-text\"> 引子</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#0-%E6%80%BB%E8%A7%88\"><span class=\"toc-text\"> 0. 总览</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#11-zsh\"><span class=\"toc-text\"> 1.1 zsh</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#12-oh-my-zsh\"><span class=\"toc-text\"> 1.2 oh-my-zsh</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#part-2-%E5%AE%89%E8%A3%85zinit\"><span class=\"toc-text\"> part 2. 安装zinit</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#21-%E6%A0%B9%E6%8D%AEgithub%E7%9A%84%E6%95%99%E7%A8%8B\"><span class=\"toc-text\"> 2.1 根据github的教程</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#22-%E7%AC%AC%E4%B8%80%E6%AC%A1zinit%E4%BD%BF%E7%94%A8%E7%9A%84%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\"> 2.2 第一次zinit使用的配置</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#part-3-%E9%85%8D%E7%BD%AEzshrc\"><span class=\"toc-text\"> part 3. 配置.zshrc</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#31-%E4%B8%BB%E9%A2%98theme%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\"> 3.1 主题Theme设置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#32-%E6%8F%92%E4%BB%B6plugin%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\"> 3.2 插件plugin设置</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#part-4-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\"> part 4. 主题配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#41-%E5%AD%97%E4%BD%93%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\"> 4.1 字体配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#42-%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\"> 4.2 其他配置</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#part-5-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96\"><span class=\"toc-text\"> part 5. 其他软件的环境初始化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#51-conda\"><span class=\"toc-text\"> 5.1 conda</span></a></li></ol></li></ol>","author":{"name":"Gavin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"浙江大学国际学院，大四，炼丹人👨‍💻","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/svg/github.svg","link":"https://github.com/idlesilver"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/7091281/"}}}},"mapped":true,"prev_post":{},"next_post":{"title":"Setup Blog","uid":"1a4f2d9f3319aa9a9339c81e7ef1b6d4","slug":"setup-blog","date":"2021-06-14T11:52:19.000Z","updated":"2022-06-15T17:46:44.687Z","comments":true,"path":"api/articles/setup-blog.json","keywords":["Student","Blog","IT","tech","mechine learning"],"cover":"http://img.gavin-get-up.com/20210625210556.png","text":" 记录了博客建站部署的全过程。包括框架，主题，配置，插件，工作流等等。 引子 之前折腾过 Gridea，Notion的博客框架，但最终因为懒而放弃了自己建博客网站，直接用notion的界面来做。但是最近notion越来越卡，所以花了将近两天时间新建了一个个人博客部并署到了gith...","link":"","photos":[],"count_time":{"symbolsCount":"4.7k","symbolsTime":"4 mins."},"categories":[{"name":"Tech","slug":"Tech","count":8,"path":"api/categories/Tech.json"},{"name":"MyBlog","slug":"Tech/MyBlog","count":3,"path":"api/categories/Tech/MyBlog.json"}],"tags":[{"name":"Markdown","slug":"Markdown","count":2,"path":"api/tags/Markdown.json"},{"name":"Memorandum","slug":"Memorandum","count":2,"path":"api/tags/Memorandum.json"},{"name":"hexo-theme-aurora","slug":"hexo-theme-aurora","count":2,"path":"api/tags/hexo-theme-aurora.json"}],"author":{"name":"Gavin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"浙江大学国际学院，大四，炼丹人👨‍💻","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/svg/github.svg","link":"https://github.com/idlesilver"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/7091281/"}}}},"feature":true}}